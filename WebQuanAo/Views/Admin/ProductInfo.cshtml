@using WebQuanAo.Models;
@{
    ViewBag.Title = "ProductInfo";
    Layout = "~/Views/Shared/_Layout_Admin.cshtml";
    List<productInfo> productInfo = ViewBag.productInfo;
    List<product> product = ViewBag.product;
}
<link rel="stylesheet" href="../Content/style-ProductForm.css">
<!--------------------------------------------------------------->
<div class="Content animated fadeIn">
    <!-- Đây Là Chỗ Để Render Body Khi Quăng Vào MVC -->
    <!-- Nó Sẽ Thay Đổi Dựa Theo Người Dùng Muốn Click Coi Gì -->
    <div class="container-fluid">
        <div class="row">
            <div class="Home col-lg-2 col-md-3 col-sm-5 col-10 fw-bold my-2 mx-3">Thông Tin Sản Phẩm</div>
            <div class="Home col-lg-2 col-md-3 col-sm-5 col-10 fw-bold my-2 mx-3" onclick="addProduct()" style="cursor:pointer">Add Product</div>
        </div>
        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Ảnh</th>
                    <th scope="col">Tên Sản Phẩm</th>
                    <th scope="col">Size</th>
                    <th scope="col">Số Lượng</th>
                    <th scope="col">Giá</th>
                    <th scope="col">Thao Tác</th>
                </tr>
            </thead>
            <tbody>
                @foreach (productInfo i in @productInfo)
                {
                    <tr>
                        <th scope="row">@i.id</th>
                        <td><img class="image" src="@product.Find(x=> x.id == i.id).srcImage" alt=""></td>
                        <td>@product.Find(x => x.id == i.id).name</td>
                        <td>@i.size</td>
                        <td>@i.count</td>
                        <td>@string.Format("{0:#,##0}", i.price).Replace(".0000", String.Empty) đ</td>
                        <td>
                            <a href="@Url.Action("EditProduct")?id=@i.id&size=@i.size">Chỉnh Sửa</a>
                            <a class="ml-1" href="@Url.Action("RemoveProDuctinfo","Admin", new { i.id , i.size})">Xóa</a>
                        </td>
                    </tr>
                }

            </tbody>
        </table>

        <!-- Thêm Giao Diện Của Tính Năng Phân Trang -->
        <nav aria-label="...">
            <ul class="pagination">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Trước</a>
                </li>
                <li class="page-item active">
                    <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item" aria-current="page">
                    <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">3</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">Sau</a>
                </li>
            </ul>
        </nav>
    </div>
</div>

<script>
    function addProduct() {
            location.href = window.location.protocol + "//" +window.location.host +"@Url.Action("EditProduct")";
    }
</script>

